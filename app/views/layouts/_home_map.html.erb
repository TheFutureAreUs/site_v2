<script src="https://www.amcharts.com/lib/3/ammap.js" type="text/javascript"></script>
<script src="https://www.amcharts.com/lib/3/maps/js/usaHigh.js" type="text/javascript"></script>
<script src="https://www.amcharts.com/lib/3/themes/light.js" type="text/javascript"></script>
<div id="mapdiv" style="width: 970px; height: 500px;"></div>


<script type="text/javascript">
    var map = AmCharts.makeChart("mapdiv",{
        type: "map",
        theme: "light",
        panEventsEnabled : true,
        backgroundColor : "#4ecbfc",
        backgroundAlpha : 1,
        zoomControl: {
        zoomControlEnabled : true
        },
        dataProvider : {
        map : "usaHigh",
        getAreasFromMap : true,
        areas : [
            { "id":"US-DE",
              "info": ""
            }, 
            { "id":"US-DC", 
              "info": ""
            },
            { "id":"US-FL",
              "info": '<%  @florida_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@florida_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-GA",
              "info": '<%  @georgia_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@georgia_colleges, college) %></li></ul> <% end %>' 
            },
            { "id":"US-HI",
              "info": ""
            },
            { "id":"US-ID",
              "info": ""
            },
            { "id":"US-IL",
              "info": ""
            },
            { "id":"US-IN",
              "info": ""
            },
            { "id":"US-IA",
              "info": ""
            },
            { "id":"US-KS",
              "info": ""
            },
            { "id":"US-KY",
              "info": ""
            },
            { "id":"US-LA",
              "info": ""
            },
            { "id":"US-ME",
              "info": ""
            }, 
            { "id":"US-MD",
              "info": '<%  @maryland_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@maryland_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-MA",
              "info": ""
            },
            { "id":"US-MI",
              "info": ""
            },
            { "id":"US-MN",
              "info": "" 
            },
            { "id":"US-MS",
              "info": ""
            },
            { "id":"US-MO",
              "info": ""
            },
            { "id":"US-MT",
              "info": ""
            },
            { "id":"US-NE",
              "info": ""
            },
            { "id":"US-NV",
              "info": '<%  @nevada_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@nevada_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-NH",
              "info": ""
            },
            { "id":"US-NJ", 
              "info": ""
            },
            { "id":"US_NM",
              "info": ""
            },
            { "id":"US-NY",
              "info": ""
            },
            { "id":"US-NC",
              "info": ""
            },
            { "id":"US-ND",
              "info": ""
            },
            { "id":"US-OH",
              "info": ""
            },
            { "id":"US-OK",
              "info": ""
            },
            { "id":"US-OR",
              "info": ""
            },
            { "id":"US-PA",
              "info": ""
            },
            { "id":"US-RI",
              "info": ""
            },
            { "id":"US-SC",
              "info": ""
            },
            { "id":"US-SD",
              "info": ""
            },
            { "id":"US-TN",
              "info": ""
            },
            { "id":"US-TX",
              "info": '<%  @texas_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@texas_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-UT",
              "info": ""
            },
            { "id":"US-VT",
              "info": ""
            },
            { "id":"US-VA",
              "info": ""
            },
            { "id":"US-WA",
              "info": ""
            },
            { "id":"US-WV",
              "info": ""
            },
            { "id":"US-WI",
              "info": ""
            },
            { "id":"US-WY",
              "info": ""
            },
            { "id":"US-AK",
              "info": ""
            },
            { "id":"US-AL",
              "info": ""
            },
            { "id":"US-AR",
              "info": ""
            },
            { "id":"US-AZ",
              "info": '<%  @arizona_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@arizona_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-CA",
              "info": '<%  @california_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@california_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-CO",
              "info": ""
            },
            { "id":"US-CT",
              "info": ""
            }
            ]
        }, 
        areasSettings : {
            autoZoom : false,
            selectable: true,
            color : "#ffffff",
            colorSolid : "#ffffff",
            selectedColor : "#b8b8b8",
            outlineColor : "#666666",
            rollOverColor : "#b8b8b8",
            rollOverOutlineColor : "#fcfeff"
        },
        
        "listeners": [ {
            "event": "clickMapObject",
            "method": function( event ) {
                document.getElementById( "info" ).innerHTML= '<p><em><b>' + event.mapObject.title + '</b></em></p>'  + event.mapObject.info;
            }
        } ]
    
    });
</script>







