<script src="https://www.amcharts.com/lib/3/ammap.js" type="text/javascript"></script>
<script src="https://www.amcharts.com/lib/3/maps/js/usaHigh.js" type="text/javascript"></script>
<script src="https://www.amcharts.com/lib/3/themes/light.js" type="text/javascript"></script>
<div id="mapdiv" style="width: 970px; height: 500px;"></div>


<script type="text/javascript">
    var map = AmCharts.makeChart("mapdiv",{
        type: "map",
        theme: "light",
        panEventsEnabled : true,
        backgroundColor : "#4ecbfc",
        backgroundAlpha : 1,
        zoomControl: {
        zoomControlEnabled : true
        },
        dataProvider : {
        map : "usaHigh",
        getAreasFromMap : true,
        areas : [
            { "id":"US-DE",
              "info": '<%  @delaware_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@delaware_colleges, college) %></li></ul> <% end %>'
            }, 
            { "id":"US-DC", 
              "info": ""
            },
            { "id":"US-FL",
              "info": '<%  @florida_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@florida_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-GA",
              "info": '<%  @georgia_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@georgia_colleges, college) %></li></ul> <% end %>' 
            },
            { "id":"US-HI",
              "info": ""
            },
            { "id":"US-ID",
              "info": '<% @idaho_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@idaho_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-IL",
              "info": '<% @illinois_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@illinois_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-IN",
              "info": '<% @indiana_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@indiana_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-IA",
              "info": ""
            },
            { "id":"US-KS",
              "info": '<%  @kansas_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@kansas_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-KY",
              "info": '<%  @kentucky_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@kentucky_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-LA",
              "info": '<%  @louisiana_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@louisiana_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-ME",
              "info": '<% @maine_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@maine_colleges, college) %></li></ul> <% end %>'
            }, 
            { "id":"US-MD",
              "info": '<%  @maryland_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@maryland_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-MA",
              "info": ""
            },
            { "id":"US-MI",
              "info": '<% @michigan_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@michigan_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-MN",
              "info": "" 
            },
            { "id":"US-MS",
              "info": '<%  @mississippi_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@mississippi_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-MO",
              "info": '<% @missouri_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@missouri_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-MT",
              "info": ""
            },
            { "id":"US-NE",
              "info": ""
            },
            { "id":"US-NV",
              "info": '<%  @nevada_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@nevada_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-NH",
              "info": ""
            },
            { "id":"US-NJ", 
              "info": '<%  @newjersey_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@newjersey_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US_NM",
              "info": '<%  @newmexico_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@newmexico_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-NY",
              "info": '<% @newyork_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@newyork_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-NC",
              "info": '<%  @northcarolina_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@northcarolina_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-ND",
              "info": ""
            },
            { "id":"US-OH",
              "info": '<% @ohio_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@ohio_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-OK",
              "info": '<%  @oklahoma_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@oklahoma_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-OR",
              "info": '<%  @oregon_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@oregon_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-PA",
              "info": '<%  @pennsylvania_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@pennsylvania_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-RI",
              "info": ""
            },
            { "id":"US-SC",
              "info": '<%  @southcarolina_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@southcarolina_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-SD",
              "info": ""
            },
            { "id":"US-TN",
              "info": '<%  @tennessee_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@tennessee_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-TX",
              "info": '<%  @texas_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@texas_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-UT",
              "info": ""
            },
            { "id":"US-VT",
              "info": ""
            },
            { "id":"US-VA",
              "info": '<%  @virginia_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@virginia_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-WA",
              "info": '<%  @washington_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@washington_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-WV",
              "info": '<%  @westvirginia_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@westvirginia_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-WI",
              "info": '<% @wisconsin_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@wisconsin_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-WY",
              "info": ""
            },
            { "id":"US-AK",
              "info": ""
            },
            { "id":"US-AL",
              "info": '<%  @alabama_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@alabama_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-AR",
              "info": '<%  @arkansas_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@arkansas_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-AZ",
              "info": '<%  @arizona_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@arizona_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-CA",
              "info": '<%  @california_colleges.colleges.each.sort_by do |college| %> <ul class="sch-col"><li><%= link_to college.name, region_college_path(@california_colleges, college) %></li></ul> <% end %>'
            },
            { "id":"US-CO",
              "info": ""
            },
            { "id":"US-CT",
              "info": ""
            }
            ]
        }, 
        areasSettings : {
            autoZoom : false,
            selectable: true,
            color : "#ffffff",
            colorSolid : "#ffffff",
            selectedColor : "#b8b8b8",
            outlineColor : "#666666",
            rollOverColor : "#b8b8b8",
            rollOverOutlineColor : "#fcfeff"
        },
        
        "listeners": [ {
            "event": "clickMapObject",
            "method": function( event ) {
                document.getElementById( "info" ).innerHTML= '<p><em><b>' + event.mapObject.title + '</b></em></p>'  + event.mapObject.info;
            }
        } ]
    
    });
</script>







